# 关于Emerald的新想法

这是我一天晚上突然有的一点点灵感。

UI设计麻烦一直是Emerald的一大问题，就算是先前的“设计模式”，用起来也没有简单多少。

拖控件吗？我觉得那也不够方便。

最后我想到了“草图UI”。

# 简单从草图转移到图形

![简单从草图转移到图形](emerald_feature_pre1.gif)

我发现，如果图形为矩形，用户想要绘制的矩形总是如下的一种形式：

`(Xmin,Ymin)-(Xmax,Ymax)`

圆形通过计算后发现下列公式符合用户意向：

`O((Xmin + Xmax) / 2,(Ymin + Ymax) / 2) , r=sqrt((Xmax - Xmin) ^ 2 + (Ymax - Ymin) ^ 2) / 3.14`

# 构想

![接近理想的成果](emerald_feature_pre2.png)

以上的这个UI，我只画了不到半分钟，想必这种做法还是能在一定程度上提高画UI的效率，特别是触屏，数位板用户。

## 笔刷

Emerald将会提供图形界面供用户设计，其实提供`笔刷`。笔刷包含图形笔刷和图片笔刷。

每个笔刷有预设好的UI配色组（填充色+边框色+边框粗细），以及形状设定，图片设定。

用户选择好笔刷后，即可在界面上绘制草图，快速绘制UI。

## 与类模块代码文件交互

按照代码文件顺序记录下每一行代码，排除与Emerald绘制无关的代码。

然后解析绘制调用参数，并使用`vbs`的`eval`函数计算某些非常量参数。

将其导入设计界面，随后用户可以进行调整，或者使用笔刷绘制新的元素。

> 问题：某些绘制存在于分支结构中
>
> 暂定解决方案：Emerald将提供一个分支开关，用户可以控制这些开关的关闭。

# 暂时不能解决的问题

如果绘制出来的元素不能够自动排版，自动对齐，等宽等。

这项功能也只能算是鸡肋。

但目前还未想出比较好的方式控制他们的排版。

![缺少自动排版功能的效果](emerald-feature-pre3.png)

▲缺少自动排版功能的效果